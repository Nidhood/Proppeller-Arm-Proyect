<?xml version="1.0" encoding="utf-8"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="prop_arm">

  <!-- World link -->
  <link name="world"/>

  <!-- Main robot link -->
  <link name="base_link">
    <collision name="base_collision">
      <origin rpy="0.00000 0.00000 0.00000" xyz="0.00000 0.00000 0.00000"/>
      <geometry>
        <mesh filename="package://prop_arm_description/models/prop_arm/meshes/collisions/base.stl" scale="1.00000 1.00000 1.00000"/>
      </geometry>
    </collision>
    <inertial>
      <inertia ixx="4.49421" ixy="1.19011" ixz="-0.32403" iyy="1.83979" iyz="0.67570" izz="5.09395"/>
      <origin rpy="0.00000 0.00000 0.00000" xyz="-0.00341 -0.01201 -0.10842"/>
      <mass value="10.00000"/>
    </inertial>
    <visual name="base">
      <origin rpy="0.00000 0.00000 0.00000" xyz="0.00000 0.00000 0.00000"/>
      <geometry>
        <mesh filename="package://prop_arm_description/models/prop_arm/meshes/visuals/base.dae" scale="1.00000 1.00000 1.00000"/>
      </geometry>
    </visual>
  </link>

  <!-- Arm link -->
  <link name="arm_link">
    <collision name="arm_collision">
      <origin rpy="0.00000 -1.57080 0.00000" xyz="0.00000 0.00000 -0.00000"/>
      <geometry>
        <mesh filename="package://prop_arm_description/models/prop_arm/meshes/collisions/arm.stl" scale="1.00000 1.00000 1.00000"/>
      </geometry>
    </collision>
    <inertial>
      <inertia ixx="0.9156" ixy="-0.00006" ixz="-0.01066" iyy="0.91818" iyz="-0.00628" izz="0.01020"/>
      <origin rpy="0.00000 0.00000 0.00000" xyz="0.14437 -0.00020 0.01985"/>
      <mass value="20.0"/>  
    </inertial>
    <visual name="arm">
      <origin rpy="0.00000 -1.57080 0.00000" xyz="0.00000 -0.00000 -0.00000"/>
      <geometry>
        <mesh filename="package://prop_arm_description/models/prop_arm/meshes/visuals/arm.dae" scale="1.00000 1.00000 1.00000"/>
      </geometry>
    </visual>
  </link>

  <!-- Motor link -->
  <link name="motor_link">
    <collision name="motor_collision">
      <origin rpy="0.00000 0.00000 0.00000" xyz="-0.00000 -0.00000 0.00000"/>
      <geometry>
        <mesh filename="package://prop_arm_description/models/prop_arm/meshes/collisions/motor.stl" scale="1.00000 1.00000 1.00000"/>
      </geometry>
    </collision>
    <inertial>
      <inertia ixx="0.00229" ixy="0.00020" ixz="-0.00002" iyy="0.00144" iyz="0.00012" izz="0.00226"/>
      <origin rpy="0.00000 0.00000 0.00000" xyz="-0.00013 0.00073 -0.00279"/>
      <mass value="10.00000"/>
    </inertial>
    <visual name="motor">
      <origin rpy="0.00000 0.00000 0.00000" xyz="0.00000 0.00000 0.00000"/>
      <geometry>
        <mesh filename="package://prop_arm_description/models/prop_arm/meshes/visuals/motor.dae" scale="1.00000 1.00000 1.00000"/>
      </geometry>
    </visual>
  </link>

  <!-- Propeller link-->
  <link name="prop_link">
    <collision name="prop_collision">
      <origin rpy="-0.00000 0.00000 0.00000" xyz="0.00000 0.00000 0.00000"/>
      <geometry>
        <mesh filename="package://prop_arm_description/models/prop_arm/meshes/collisions/prop.stl" scale="1.00000 1.00000 1.00000"/>
      </geometry>
    </collision>
    <inertial>
      <inertia ixx="0.00022" ixy="-0.00077" ixz="-0.00002" iyy="0.03639" iyz="0.00000" izz="0.03655"/>
      <origin rpy="0.00000 0.00000 0.00000" xyz="0.00007 0.00056 0.00001"/>
      <mass value="10.00000"/>
    </inertial>
    <visual name="prop">
      <origin rpy="0.00000 0.00000 0.00000" xyz="-0.00000 -0.00000 0.00000"/>
      <geometry>
        <mesh filename="package://prop_arm_description/models/prop_arm/meshes/visuals/prop.dae" scale="1.00000 1.00000 1.00000"/>
      </geometry>
    </visual>
  </link>

  <!-- Joint between world and base -->
  <joint name="world_base_joint" type="fixed">
    <parent link="world"/>
    <child link="base_link"/>
  </joint>

  <!-- Joint between base and arm -->
  <joint name="arm_link_joint" type="revolute"> 
    <axis xyz="0 0 -1"/>
    <origin rpy="-1.57080 0 -1.57080" xyz="0.43129 -0.58144 0.11764"/>
    <limit lower="0" upper="1.5708" effort="1500.0" velocity="10.0"/>
    <dynamics damping="0.0" friction="0.0"/>
    <parent link="base_link"/>
    <child link="arm_link"/>
  </joint>

  <!-- Joint between arm and motor -->
  <joint name="motor_link_joint" type="fixed">
    <origin rpy="1.57080 -1.57080 0.00000" xyz="0.40028 -0.03651 0.02656"/>
    <parent link="arm_link"/>
    <child link="motor_link"/>
  </joint>

  <!-- Joint between motor and propeller -->
  <joint name="prop_link_joint" type="continuous">
    <dynamics damping="0.01"/>
    <origin rpy="0 0 0" xyz="0.00004 0 0.02475"/>
    <parent link="motor_link"/>
    <child link="prop_link"/>
    <axis xyz="0 0 1"/>
  </joint>

  <!-- Include materials for Gazebo -->
  <xacro:include filename="$(find prop_arm_gazebo)/urdf/prop_arm_materials.xacro"/>

  <!-- Include gazebo plugins -->
  <xacro:include filename="$(find prop_arm_gazebo_plugins)/urdf/prop_arm_gazebo_plugins.xacro"/>

  <!-- Include control interface -->
  <xacro:include filename="$(find prop_arm_gazebo_control)/urdf/prop_arm_control.xacro"/>
</robot>